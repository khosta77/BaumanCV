# Курсовой проект. Computer Vision Rangefinder

Цель проекта с помощью двух камер определять расстояние до наведенного объекта. Сравнение изображений происходит спомощью 
коэффициента корреляции. В данной ветке собрано все для запуска на rasberry pi 2. 
**При запуске на стационарном компьютере работать не должна.**

## Сборка

1. **wiringPi** Если у вас нет утилиты git для работы с github-репозиториями, то устанавливаем:
   ```sh
   sudo apt-get install git-core
   ```
   Скачиваем исходники библиотеки из репозитория (Это библиотека сообщества)
   ```sh
   git clone https://github.com/WiringPi/WiringPi.git
   cd ./WiringPi
   ./build
   ```
2. **libjpeg**
   ```sh
   sudo apt-get install libjpeg-dev
   sudo apt-get install libjpeg8-dev
   ```
3. **RaspiCam**
   ```sh
   git clone https://github.com/cedricve/raspicam.git
   cd raspicam
   mkdir build
   cd build
   cmake ..
   make
   sudo make install
   sudo ldconfig
   ```
## Компиляция

```sh
make
```
Так как проект предполагает запуск на не стабильной системе, бфла решено отказатся от cmake в пользу g++ компилятора.

## Тест

```commandline
Tест №1 - Две одинаковые фотографии
    Коэффицент равен 1. Result = 1
Tест №2 - Две разные фотографии
    Коэффицент близок к 0. Result = 0.176571
Tест №3 - С разных ракурсов
    Коэффицент приближен к реальному значению. Result = 0.527198
    Коэффицент далек от правды. Result = 0.378763
Tест №4 - Размытие
    Коэффицент приближен к реальному значению. Result = 0.42187
    Коэффицент далек от правды. Result = 0.576542
    Коэффицент далек от правды. Result = 0.62068
Tест №5 - Время корреляции
    Время открытия и конвертации в GRAY: 1359 ms
    Время открытия и конвертации в GRAY: 1359 ms
    Время открытия и конвертации в GRAY: 1358 ms
    Время открытия и конвертации в GRAY: 1359 ms
    Время открытия и конвертации в GRAY: 1360 ms
Tест №6 - Время RGB to GRAY
    Время открытия и конвертации в GRAY: 268 ms -> 240 ms
    Время открытия и конвертации в GRAY: 270 ms -> 239 ms
    Время открытия и конвертации в GRAY: 326 ms -> 281 ms
    Время открытия и конвертации в GRAY: 317 ms -> 283 ms
    Время открытия и конвертации в GRAY: 317 ms -> 277 ms
    Время открытия и конвертации в GRAY: 316 ms -> 281 ms
Tест №7 - Время RGB to GRAY, снимки одного формата
    Время открытия и конвертации в GRAY: 288 ms
    Время открытия и конвертации в GRAY: 291 ms
    Время открытия и конвертации в GRAY: 293 ms
    Время открытия и конвертации в GRAY: 291 ms
    Время открытия и конвертации в GRAY: 293 ms
    Время открытия и конвертации в GRAY: 291 ms
    Время открытия и конвертации в GRAY: 292 ms
    Время открытия и конвертации в GRAY: 290 ms
    Время открытия и конвертации в GRAY: 292 ms
    Время открытия и конвертации в GRAY: 304 ms
Tест №6 - Время снимка и конвертации его в GRAY (размер снимка 640х480)
    Время снимка и конвертации его в GRAY: 1104 ms (размер снимка 1280х960) // такой тест больше не проводился
    Время снимка и конвертации его в GRAY: 837 ms (размер снимка 640х480) -> 960 ms
    Время снимка и конвертации его в GRAY: 798 ms
    Время снимка и конвертации его в GRAY: 800 ms
    Время снимка и конвертации его в GRAY: 799 ms
    Время снимка и конвертации его в GRAY: 795 ms
    Время снимка и конвертации его в GRAY: 801 ms
    Время снимка и конвертации его в GRAY: 816 ms
```

## примечание

**Необходимо** в коде уточнить пины, к которым будет подключатся кнопка и свето диод.
